실행 계획이란 DBMS가 SQL을 처리하기 위해 사용하는 실행 계획이다.
이는 DBMS에서 쿼리를 처리할 때 데이터를 검색하고 가져오는 방법을 결정하는데 사용된다

SQL을 실행시킬 때 비용을 계산하여 어떠한 방식이 가장 적절한지 판단한다
쿼리 실행에 필요한 최소한의 리소스와 비용으로 최적의 성능을 제공할 수 있다

### 실행 계획 순서
- SQL문법 해석 및 분석

- 최적화 : 옵티마이저가 여러 계획들 중에서 테이블 정보, 인덱스, 조인 여러 정보를 통해 가장 최적의 계획을 선택함

- 실행계획 수립 : 선택된 계획으로 실제 데이터 접근

- 실행 : 최종적으로 쿼리 실행

### 실행 계획에서 평가되는 요소들
가장 최적화된 실행 계획을 찾아내기 위해 사용되는 요소들이다

- Cardinality : 각 작업에서 나오는 행 수치이다
- Access Method : 데이터에 접근하는 방법을 나타낸다
- Join Method : 테이블을 서로 결합하는데 사용되는 방법
- Join Type : 결합 유형(Left/Right, Outer/Inner)
- Join Order : 테이블이 서로 결합되는 순서다
- Partition Pruning : 쿼리를 해결하기 위해 필요한 파티션만 액세스 하고 있는지 여부
- Pararell Excution : 병렬 실행 시 계획이 병렬적으로 실행되고 있는지 확인해야 한다. 적절한 데이터 재분배 방법이 사용되는지도 확인해야 한다

### 옵티마이저(Optimizer)란
가장 효율적인 실행 계획을 생성해주는 DBMS의 핵심 엔진이다

- CBO(Cost-Based Optimizer)
	쿼리를 처리하기 위해 여러 방법을 만들고 각 작업에 대한 비용과 테이블의 통계 정보를 이용해서 비용을 산출하고 적은 실행계획을 선택

- RBO(Rule-Based Optimizer)
	대상 테이블의 레코드나 건수 등을 고려하지 않고 Optimizer에 내장된 우선순위로 실행 계획을 정함


### MySQL에서 실행계획 확인하기

실행계획을 확인하고 싶은 SQL문 앞에 ```EXPLAIN``` 키워드를 사용하여 실행계획을 확인할 수 있는데 다음과 같은 항목이 있다

- id : SELECT문에서 인식되는 순서 값(id가 동일하면 같이 실행)
- select_type : select문의 유형
- table : 참조하고 있는 테이블명
- type : 조인타입이며 쿼리 성능과 밀접한 항목이다
- possible_keys : MySQL이 해당 테이블의 검색에 사용할 수 있는 인덱스들을 나타냅니다.
- key : MySQL이 실제 사용한 key나 인덱스를 나타냅니다.
- key_len : MySQL이 사용한 인덱스의 길이를 나타낸다. key 컬럼의 값이 NULL이면 이 컬럼의 값도 NULL입니다.
- ref : 행을 추출하는 데 키와 함께 사용 된 컬럼이나 상수값을 나타냅니다.
- rows : 이 값은 쿼리 수행에서 MySQL이 찾아야하는 데이터행 수의 예상값을 나타냅니다. 추정 수치이며 항상 정확하지 않다.
- filtered : filetered열에 나타난 조건에 의해 필터링 될 테이블 행의 예상 비율을 나타낸다. 즉 rows는 검사 된 행 수를 나타내고 rows * filtered / 100은 이전 테이블과 조인 될 행 수를 표시합니다.
- Extra : MySQL이 이 쿼리를 어떻게 해석하는 지에 대한 추가 정보가 들어있습니다.